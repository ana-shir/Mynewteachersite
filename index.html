<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ê–Ω–Ω–∞ ‚Äî –≤–µ—Å—ë–ª—ã–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–ª—è –¥–µ—Ç–µ–π!</title>
  <style>
    * { margin: 0; padding: 0; overflow: hidden; }
    body, html {
      background: #f9f3ff;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: 'Comic Sans MS', 'Chalkboard SE', cursive;
    }
    canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    // Polyfill –¥–ª—è roundRect (–µ—Å–ª–∏ –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç)
    if (!ctx.roundRect) {
      ctx.roundRect = function(x, y, width, height, radius) {
        if (width < 2 * radius) radius = width / 2;
        if (height < 2 * radius) radius = height / 2;
        this.beginPath();
        this.moveTo(x + radius, y);
        this.arcTo(x + width, y, x + width, y + height, radius);
        this.arcTo(x + width, y + height, x, y + height, radius);
        this.arcTo(x, y + height, x, y, radius);
        this.arcTo(x, y, x + width, y, radius);
        this.closePath();
        return this;
      };
    }

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // === –ó–ê–ì–†–£–ó–ö–ê –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–ô ===
    const phoneImg = new Image();
    const busImg = new Image();
    phoneImg.src = 'images/phone.png';   // ‚Üê —Ç–≤–æ—è —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –±—É–¥–∫–∞
    busImg.src = 'images/bus.png';       // ‚Üê —Ç–≤–æ–π –∞–≤—Ç–æ–±—É—Å

    let imagesLoaded = false;
    phoneImg.onload = busImg.onload = () => {
      imagesLoaded = true;
    };

    // –¶–≤–µ—Ç–∞
    const colors = {
      bg: '#f9f3ff',
      title: '#ff6b6b',
      subtitle: '#4ecdc4',
      price: '#ffd166',
      btn: '#ff9e6d',
      btnHover: '#ff6b6b',
      text: '#1a535c',
      accent: '#06d6a0'
    };

    // –ö–Ω–æ–ø–∫–∏
    const buttons = [];

    class Button {
      constructor(x, y, w, h, text, action) {
        this.x = x;
        this.y = y;
        this.w = w;
        this.h = h;
        this.text = text;
        this.action = action;
        this.isHover = false;
      }

      draw() {
        ctx.fillStyle = this.isHover ? colors.btnHover : colors.btn;
        ctx.strokeStyle = '#d32f2f';
        ctx.lineWidth = 2.5;
        ctx.beginPath();
        ctx.roundRect(this.x, this.y, this.w, this.h, 16);
        ctx.fill();
        ctx.stroke();

        ctx.fillStyle = 'white';
        ctx.font = `bold ${Math.min(18, this.w / 8)}px 'Comic Sans MS'`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(this.text, this.x + this.w / 2, this.y + this.h / 2);
      }

      contains(x, y) {
        return x >= this.x && x <= this.x + this.w && y >= this.y && y <= this.y + this.h;
      }
    }

    let mouseX = 0, mouseY = 0;
    canvas.addEventListener('mousemove', (e) => {
      const rect = canvas.getBoundingClientRect();
      mouseX = e.clientX - rect.left;
      mouseY = e.clientY - rect.top;
      buttons.forEach(btn => btn.isHover = btn.contains(mouseX, mouseY));
    });

    canvas.addEventListener('click', () => {
      buttons.forEach(btn => {
        if (btn.contains(mouseX, mouseY)) btn.action();
      });
    });

    // –õ–µ—Ç–∞—é—â–∏–µ –±—É–∫–≤—ã
    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
    const floatingLetters = [];
    const vibrantColors = ['#FF6B6B', '#4ECDC4', '#FFE66D', '#FF9F1C', '#6A0572', '#AB83A1', '#5BC0EB', '#9BC53D', '#06D6A0'];

    class FloatingLetter {
      constructor() {
        this.char = letters[Math.floor(Math.random() * letters.length)];
        this.x = Math.random() * canvas.width;
        this.y = -30;
        this.size = Math.random() * 20 + 16;
        this.speed = Math.random() * 0.8 + 0.3;
        this.color = vibrantColors[Math.floor(Math.random() * vibrantColors.length)];
        this.rotation = Math.random() * Math.PI * 2;
        this.rotSpeed = (Math.random() - 0.5) * 0.03;
      }

      update() {
        this.y += this.speed;
        this.rotation += this.rotSpeed;
        if (this.y > canvas.height + 50) {
          this.y = -30;
          this.x = Math.random() * canvas.width;
        }
      }

      draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.rotation);
        ctx.font = `bold ${this.size}px 'Comic Sans MS'`;
        ctx.fillStyle = this.color;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        ctx.fillText(this.char, 0, 0);
        ctx.restore();
      }
    }

    function initLetters() {
      floatingLetters.length = 0;
      const count = Math.min(25, Math.floor(canvas.width / 25));
      for (let i = 0; i < count; i++) {
        floatingLetters.push(new FloatingLetter());
      }
    }

    // –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —Ñ–ª–∞–≥
    function drawUKFlag(x, y, size) {
      const s = size;
      ctx.fillStyle = '#012169';
      ctx.fillRect(x - s/2, y - s/2, s, s);

      ctx.fillStyle = '#FFFFFF';
      ctx.beginPath();
      ctx.moveTo(x - s/2, y - s/2); ctx.lineTo(x - s/2 + 0.2*s, y - s/2);
      ctx.lineTo(x + s/2, y + s/2 - 0.2*s); ctx.lineTo(x + s/2, y + s/2);
      ctx.lineTo(x + s/2 - 0.2*s, y + s/2); ctx.lineTo(x - s/2, y - s/2 + 0.2*s);
      ctx.closePath();
      ctx.fill();

      ctx.beginPath();
      ctx.moveTo(x + s/2, y - s/2); ctx.lineTo(x + s/2 - 0.2*s, y - s/2);
      ctx.lineTo(x - s/2, y + s/2 - 0.2*s); ctx.lineTo(x - s/2, y + s/2);
      ctx.lineTo(x - s/2 + 0.2*s, y + s/2); ctx.lineTo(x + s/2, y - s/2 + 0.2*s);
      ctx.closePath();
      ctx.fill();

      ctx.fillStyle = '#C8102E';
      ctx.beginPath();
      ctx.moveTo(x - s/2, y - s/2); ctx.lineTo(x - s/2 + 0.1*s, y - s/2);
      ctx.lineTo(x + s/2, y + s/2 - 0.1*s); ctx.lineTo(x + s/2, y + s/2);
      ctx.lineTo(x + s/2 - 0.1*s, y + s/2); ctx.lineTo(x - s/2, y - s/2 + 0.1*s);
      ctx.closePath();
      ctx.fill();

      ctx.beginPath();
      ctx.moveTo(x + s/2, y - s/2); ctx.lineTo(x + s/2 - 0.1*s, y - s/2);
      ctx.lineTo(x - s/2, y + s/2 - 0.1*s); ctx.lineTo(x - s/2, y + s/2);
      ctx.lineTo(x - s/2 + 0.1*s, y + s/2); ctx.lineTo(x + s/2, y - s/2 + 0.1*s);
      ctx.closePath();
      ctx.fill();

      ctx.fillStyle = '#FFFFFF';
      ctx.fillRect(x - s/2, y - 0.15*s, s, 0.3*s);
      ctx.fillRect(x - 0.15*s, y - s/2, 0.3*s, s);

      ctx.fillStyle = '#C8102E';
      ctx.fillRect(x - s/2, y - 0.1*s, s, 0.2*s);
      ctx.fillRect(x - 0.1*s, y - s/2, 0.2*s, s);
    }

    // –î–∞–Ω–Ω—ã–µ
    const prices = [
      { type: 'üë• –ì—Ä—É–ø–ø–æ–≤–æ–µ –∑–∞–Ω—è—Ç–∏–µ', price: '600 ‚ÇΩ / 60 –º–∏–Ω' },
      { type: 'üë§ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –∑–∞–Ω—è—Ç–∏–µ', price: '1000 ‚ÇΩ / 40 –º–∏–Ω' }
    ];

    const reviews = [
      { name: '–ú–∞—à–∞, 10 –ª–µ—Ç', text: '–ê–Ω–Ω–∞ ‚Äî —Å—É–ø–µ—Ä! –Ø —Ç–µ–ø–µ—Ä—å –≥–æ–≤–æ—Ä—é –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —Å –∫–æ—Ç–æ–º!' },
      { name: '–î–∏–º–∞, 14 –ª–µ—Ç', text: '–°–¥–∞–ª –û–ì–≠ –Ω–∞ –æ—Ç–ª–∏—á–Ω–æ! –°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—ã –∏ —Å–º–µ—Ö!' },
      { name: '–ú–∞–º–∞ –ê–ª–∏–Ω—ã', text: '–†–µ–±—ë–Ω–æ–∫ –∂–¥—ë—Ç —É—Ä–æ–∫–∞ –∫–∞–∫ –ø—Ä–∞–∑–¥–Ω–∏–∫. –û—á–µ–Ω—å —Ä–µ–∫–æ–º–µ–Ω–¥—É—é!' }
    ];

    function draw() {
      // –§–æ–Ω
      ctx.fillStyle = colors.bg;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // –†–∞–¥—É–∂–Ω–∞—è –ø–æ–ª–æ—Å–∞ —Å–≤–µ—Ä—Ö—É
      const rainbow = ['#FF0000', '#FFA500', '#FFFF00', '#00FF00', '#0000FF', '#4B0082'];
      const stripeH = 6;
      rainbow.forEach((color, i) => {
        ctx.fillStyle = color;
        ctx.globalAlpha = 0.15;
        ctx.fillRect(0, i * stripeH, canvas.width, stripeH);
      });
      ctx.globalAlpha = 1;

      // –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±—É–∫–≤—ã
      floatingLetters.forEach(l => {
        l.update();
        l.draw();
      });

      // === –í–ï–†–¢–ò–ö–ê–õ–¨–ù–ê–Ø –ö–û–ú–ü–û–ù–û–í–ö–ê ===
      let y = 60;

      // –ó–∞–≥–æ–ª–æ–≤–æ–∫
      ctx.font = `bold ${Math.min(42, canvas.width / 8)}px 'Comic Sans MS'`;
      ctx.fillStyle = colors.title;
      ctx.textAlign = 'center';
      ctx.fillText('‚ú® –ê–ù–ù–ê ‚Äî –í–ï–°–Å–õ–´–ô –ê–ù–ì–õ–ò–ô–°–ö–ò–ô! ‚ú®', canvas.width / 2, y);
      y += 50;

      // –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫
      ctx.font = `${Math.min(20, canvas.width / 18)}px 'Comic Sans MS'`;
      ctx.fillStyle = colors.subtitle;
      ctx.fillText('–î–ª—è –¥–µ—Ç–µ–π –∏ –≤–∑—Ä–æ—Å–ª—ã—Ö ‚Ä¢ –û–Ω–ª–∞–π–Ω –∏ –æ—Ñ–ª–∞–π–Ω ‚Ä¢ –ï–ì–≠/–û–ì–≠/–†–∞–∑–≥–æ–≤–æ—Ä–∫–∞', canvas.width / 2, y);
      y += 60;

      // –§–ª–∞–≥
      const flagSize = Math.min(60, canvas.width / 6);
      drawUKFlag(canvas.width / 2, y, flagSize);
      y += flagSize + 40;

      // –¶–µ–Ω—ã ‚Äî –¥–≤–µ —Å—Ç—Ä–æ–∫–∏
      const priceFontSize = Math.min(18, canvas.width / 22);
      ctx.font = `bold ${priceFontSize}px 'Comic Sans MS'`;
      ctx.textAlign = 'center';

      prices.forEach((item, i) => {
        const blockY = y + i * (priceFontSize * 2 + 25);
        ctx.fillStyle = colors.text;
        ctx.fillText(item.type, canvas.width / 2, blockY);
        ctx.fillStyle = colors.price;
        ctx.fillText(item.price, canvas.width / 2, blockY + priceFontSize + 8);
      });

      y += prices.length * (priceFontSize * 2 + 25) + 30;

      // –û—Ç–∑—ã–≤—ã
      ctx.font = `${Math.min(16, canvas.width / 22)}px 'Comic Sans MS'`;
      reviews.forEach((rev, i) => {
        ctx.fillStyle = '#444';
        ctx.fillText(`"${rev.text}"`, canvas.width / 2, y + i * 45);
        ctx.fillStyle = colors.accent;
        ctx.fillText(`‚Äî ${rev.name}`, canvas.width / 2, y + i * 45 + 20);
      });
      y += reviews.length * 45 + 50;

      // –ö–Ω–æ–ø–∫–∏
      buttons.length = 0;
      const btnW = Math.min(200, canvas.width * 0.45);
      const btnH = 48;
      const gap = 15;
      const btnY = y;

      buttons.push(new Button(canvas.width / 2 - btnW - gap/2, btnY, btnW, btnH, 'üí¨ WhatsApp', () => window.open('https://wa.me/79991234567', '_blank')));
      buttons.push(new Button(canvas.width / 2 + gap/2, btnY, btnW, btnH, '‚úàÔ∏è Telegram', () => window.open('https://t.me/anna_english', '_blank')));
      buttons.push(new Button(canvas.width / 2 - btnW / 2, btnY + btnH + gap, btnW, btnH, 'üìÖ –ó–∞–ø–∏—Å–∞—Ç—å—Å—è', () => alert('–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è!\n(–í –¥–µ–º–æ–≤–µ—Ä—Å–∏–∏ ‚Äî –∏–º–∏—Ç–∞—Ü–∏—è.)')));

      buttons.forEach(btn => btn.draw());

      // === –û–¢–†–ò–°–û–í–ö–ê –¢–í–û–ò–• –ö–ê–†–¢–ò–ù–û–ö ===
      if (canvas.width > 600 && imagesLoaded) {
        // –¢–µ–ª–µ—Ñ–æ–Ω–Ω–∞—è –±—É–¥–∫–∞: 240√ó400 –ø–∏–∫—Å.
        ctx.drawImage(phoneImg, 240, canvas.height - 240, 240, 200);

        // –õ–æ–Ω–¥–æ–Ω—Å–∫–∏–π –∞–≤—Ç–æ–±—É—Å: 360√ó240 –ø–∏–∫—Å.
        ctx.drawImage(busImg, canvas.width - 400, canvas.height - 240, 240, 240);
      }

      requestAnimationFrame(draw);
    }

    initLetters();
    draw();
  </script>
</body>
</html>